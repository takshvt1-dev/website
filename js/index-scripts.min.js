document.addEventListener("DOMContentLoaded",function(){const menuToggle=document.getElementById("menuToggle");const navMenu=document.querySelector(".nav-menu");if(menuToggle&&navMenu){menuToggle.addEventListener("click",function(e){e.preventDefault();e.stopPropagation();navMenu.classList.toggle("active");menuToggle.classList.toggle("active")});document.querySelectorAll(".nav-menu a").forEach(link=>{link.addEventListener("click",()=>{navMenu.classList.remove("active");menuToggle.classList.remove("active")})});menuToggle.addEventListener("touchstart",function(e){e.preventDefault();navMenu.classList.toggle("active");menuToggle.classList.toggle("active")})}});class CircularVideoGallery{constructor(containerId,controlPrefix){this.container=document.getElementById(containerId);this.prevBtn=document.getElementById(`${controlPrefix}PrevBtn`)||document.getElementById("prevVideoBtn");this.nextBtn=document.getElementById(`${controlPrefix}NextBtn`)||document.getElementById("nextVideoBtn");this.currentIndex=0;this.videos=["resources/carousel-videos/1.mp4","resources/carousel-videos/2.mp4","resources/carousel-videos/3.mp4","resources/carousel-videos/4.mp4","resources/carousel-videos/5.mp4"];this.autoplayInterval=null;if(this.container){this.init()}}init(){this.createVideoItems();this.setupEventListeners();this.updateVideoPositions();this.startAutoplay()}createVideoItems(){this.container.innerHTML="";this.videos.forEach((videoSrc,index)=>{const videoItem=document.createElement("div");videoItem.className="video-item";const video=document.createElement("video");video.src=videoSrc;video.muted=true;video.loop=true;video.playsInline=true;video.preload="metadata";video.addEventListener("error",()=>{console.log(`Video ${index+1} failed to load`);videoItem.style.background="linear-gradient(135deg, #FF4081, #FFD700)"});video.addEventListener("loadeddata",()=>{if(index===this.currentIndex){video.play().catch(()=>{})}});videoItem.appendChild(video);this.container.appendChild(videoItem)});this.videoItems=this.container.querySelectorAll(".video-item");console.log(`Created ${this.videoItems.length} video items`)}setupEventListeners(){if(this.prevBtn){this.prevBtn.addEventListener("click",()=>{this.previous();this.stopAutoplay()})}if(this.nextBtn){this.nextBtn.addEventListener("click",()=>{this.next();this.stopAutoplay()})}document.addEventListener("keydown",e=>{if(e.key==="ArrowLeft"){this.previous();this.stopAutoplay()}if(e.key==="ArrowRight"){this.next();this.stopAutoplay()}})}updateVideoPositions(){this.videoItems.forEach((item,index)=>{const video=item.querySelector("video");item.classList.remove("active","left","right","hidden");const totalVideos=this.videos.length;const leftIndex=(this.currentIndex-1+totalVideos)%totalVideos;const rightIndex=(this.currentIndex+1)%totalVideos;if(index===this.currentIndex){item.classList.add("active");if(video){video.play().catch(()=>{})}}else if(index===leftIndex){item.classList.add("left");if(video){video.pause()}}else if(index===rightIndex){item.classList.add("right");if(video){video.pause()}}else{item.classList.add("hidden");if(video){video.pause()}}})}next(){this.currentIndex=(this.currentIndex+1)%this.videos.length;this.updateVideoPositions();console.log(`Moved to video ${this.currentIndex+1}`)}previous(){this.currentIndex=(this.currentIndex-1+this.videos.length)%this.videos.length;this.updateVideoPositions();console.log(`Moved to video ${this.currentIndex+1}`)}startAutoplay(){this.stopAutoplay();this.autoplayInterval=setInterval(()=>{this.next()},5e3)}stopAutoplay(){if(this.autoplayInterval){clearInterval(this.autoplayInterval);this.autoplayInterval=null}}}class HeroCarousel{constructor(){this.currentIndex=0;this.carouselWrapper=document.querySelector(".carousel-images-wrapper");this.prevBtn=document.querySelector(".carousel-btn-prev");this.nextBtn=document.querySelector(".carousel-btn-next");this.videos=["resources/recent-orders/1.mp4","resources/recent-orders/2.mp4","resources/recent-orders/3.mp4","resources/recent-orders/4.mp4","resources/recent-orders/5.mp4"];this.init()}init(){this.createVideoElements();this.setupEventListeners();this.startAutoRotation();this.updateCarousel()}createVideoElements(){this.carouselWrapper.innerHTML="";const videoContent=[{video:"resources/carousel-videos/1.mp4",text:"Premium Gold Foil Cards"},{video:"resources/carousel-videos/2.mp4",text:"Luxury Matte Finish"},{video:"resources/carousel-videos/3.mp4",text:"Embossed Business Cards"},{video:"resources/carousel-videos/4.mp4",text:"UV Spot Gloss Design"},{video:"resources/carousel-videos/5.mp4",text:"Velvet Touch Cards"}];videoContent.forEach((content,index)=>{const carouselImage=document.createElement("div");carouselImage.className="carousel-image";if(index===0)carouselImage.classList.add("active");console.log(`Creating carousel item ${index+1} with colored background`);carouselImage.style.background=`linear-gradient(135deg, ${content.color}, #FFD700)`;carouselImage.style.opacity="1";carouselImage.style.visibility="visible";carouselImage.style.display="flex";carouselImage.style.alignItems="center";carouselImage.style.justifyContent="center";carouselImage.style.position="absolute";carouselImage.style.top="0";carouselImage.style.left="0";carouselImage.style.width="100%";carouselImage.style.height="100%";carouselImage.style.borderRadius="24px";if(index===0){carouselImage.style.opacity="1";carouselImage.style.zIndex="10";carouselImage.style.visibility="visible"}else{carouselImage.style.opacity="0";carouselImage.style.zIndex="1";carouselImage.style.visibility="hidden"}const video=document.createElement("video");video.src=content.video;video.muted=true;video.loop=true;video.autoplay=true;video.playsInline=true;video.preload="auto";video.style.width="100%";video.style.height="100%";video.style.objectFit="cover";video.style.borderRadius="24px";video.style.display="block";video.addEventListener("error",()=>{console.log(`Video ${index+1} failed to load`);carouselImage.style.background="linear-gradient(135deg, #FF4081, #FFD700)"});video.addEventListener("loadeddata",()=>{console.log(`Video ${index+1} loaded - playing now`);video.play().catch(()=>console.log("Autoplay blocked"))});if(index===0){setTimeout(()=>{video.play().catch(()=>console.log("Initial play blocked"))},1e3)}carouselImage.appendChild(video);this.carouselWrapper.appendChild(carouselImage);console.log(`Carousel item ${index+1} created with clean video - NO TEXT`)});this.carouselImages=this.carouselWrapper.querySelectorAll(".carousel-image");console.log(`Created ${this.carouselImages.length} carousel items`)}setupEventListeners(){this.prevBtn.addEventListener("click",()=>{this.stopAutoRotation();this.previous();this.startAutoRotation()});this.nextBtn.addEventListener("click",()=>{this.stopAutoRotation();this.next();this.startAutoRotation()});console.log("Event listeners setup complete")}updateCarousel(){console.log(`Updating carousel to show item ${this.currentIndex+1}`);this.carouselImages.forEach((image,index)=>{const video=image.querySelector("video");image.classList.remove("active","prev","next");if(index===this.currentIndex){image.classList.add("active");image.style.opacity="1";image.style.zIndex="10";image.style.visibility="visible";if(video){video.play().catch(()=>console.log("Video play blocked"))}console.log(`Activated carousel item ${index+1}`)}else{image.style.opacity="0";image.style.zIndex="1";image.style.visibility="hidden";if(video){video.pause()}if(index===this.getPreviousIndex()){image.classList.add("prev")}else if(index===this.getNextIndex()){image.classList.add("next")}}})}next(){this.currentIndex=(this.currentIndex+1)%this.videos.length;this.updateCarousel()}previous(){this.currentIndex=(this.currentIndex-1+this.videos.length)%this.videos.length;this.updateCarousel()}getPreviousIndex(){return(this.currentIndex-1+5)%5}getNextIndex(){return(this.currentIndex+1)%5}startAutoRotation(){this.stopAutoRotation();this.autoRotateInterval=setInterval(()=>{this.next()},4e3)}stopAutoRotation(){if(this.autoRotateInterval){clearInterval(this.autoRotateInterval);this.autoRotateInterval=null}}}document.addEventListener("DOMContentLoaded",function(){console.log("DOM loaded, initializing video galleries...");const heroVideoGallery=new CircularVideoGallery("heroVideoGallery","");const packageVideoGallery=new CircularVideoGallery("packageVideoGallery","package");console.log("Video galleries initialization complete!")});